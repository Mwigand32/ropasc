<html>

    <head>
        <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <meta charset = UTF-8>
    <style>
        body{
            margin-top: 50px;
            text-align: center;
            text-transform: uppercase;
            font-family: Bangers;
            font-size: 36px;
            background-color: rgb(0, 100, 200);
        }

        button{
            font-size: 24px;
            font-family: Bangers;
            width: 100px;
            background-color: rgb(255, 200, 128);
        }

        img{
            width: 50px;

        }

        #finalDisplay{
            color: rgb(255, 200, 128);
        }

    </style>
    </head>


    <body>
        <button id="rock"><img src='./rock.png'><br>ROCK</button>
        <button id="paper"><img src='./paper.png'><br>PAPER</button>
        <button id="scissors"><img src='./scissors.png'><br>SCISSORS</button>
        <br><br>
        <div id="gameDisplay"></div>
        <br>
        <div id="scoreDisplay"></div>
        <br>
        <div id="finalDisplay"></div>
    </body>
    

    <script>

        function computerPlay(pick){

            computerMove = Math.floor((Math.random() * 3) + 1);
            
            if (computerMove == 1){
                return 'rock';
            }
            else if (computerMove == 2){
                return 'paper';
            }
            else if (computerMove == 3){
                return 'scissors';
            }
        }

        function fullRound(playerSelection, computerSelection){

            computerSelection = computerPlay();

            if (playerSelection == computerSelection){
                tieScore++;
                return (playerSelection + ' vs. ' + computerSelection + ' ... It\'s a tie!')
            }
            else if ((playerSelection == 'rock' && computerSelection == 'scissors') ||
                     (playerSelection == 'paper' && computerSelection == 'rock') ||
                     (playerSelection == 'scissors' && computerSelection == 'paper')){
                        playerScore++;
                        return (playerSelection + ' vs. ' + computerSelection + ' ... You win!')
                     }
            else if ((playerSelection == 'rock' && computerSelection == 'paper') ||
                     (playerSelection == 'paper' && computerSelection == 'scissors') ||
                     (playerSelection == 'scissors' && computerSelection == 'rock')){
                         computerScore++;
                         return (playerSelection + ' vs. ' + computerSelection + ' ... You lose!')
                     }

        }

        function resetScore(){
            playerScore = 0;
            computerScore = 0;
            tieScore = 0;
        }

        function game(){
            let result;
            const gameDisplay = document.querySelector('#gameDisplay');
            const scoreDisplay = document.querySelector('#scoreDisplay');
            const finalDisplay = document.querySelector('#finalDisplay');
            const moves = document.querySelectorAll('button');

            moves.forEach((button) => {
                button.addEventListener('click',() => {
                    result = fullRound(button.id);
                    gameDisplay.textContent = result;
                    scoreDisplay.textContent = (`Wins: ${playerScore}, Losses: ${computerScore}, Ties: ${tieScore}`);
                    
                    if (playerScore >= 5){
                        finalDisplay.textContent = 'You won the game! Congratulations!';
                        resetScore();
                    }
                    else if (computerScore >= 5){
                        finalDisplay.textContent = 'Game Over... Better Luck Next Time...';
                        resetScore();
                    }
                    else{
                        finalDisplay.textContent = '';
                    }
                });
            });

            
        }

    let playerScore = 0;
    let computerScore = 0;
    let tieScore = 0;

    game();

    </script>

</html>